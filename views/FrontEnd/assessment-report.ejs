<!-- frontend -->
<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Intelligent Academic Planner - Assessment Report</title>
	<style>
		.editable:hover {
			text-decoration: underline;
		}

		#borderimg2 {
			border: 15px solid transparent;
			padding: 15px;
			border-image-source: url(images/edit-border.png);
			border-image-repeat: repeat;
			background-color: #eee;
		}
		/* for d3 personality display style*/

		svg {
			width: 100%;
			height: 100%;
		}

		path.slice {
			stroke-width: 2px;
		}

		polyline {
			opacity: .3;
			stroke: black;
			stroke-width: 2px;
			fill: none;
		}
	</style>
	<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
	<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
	<!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->


</head>

<body>
	<%- include header.ejs %>
  <!-- interest cloud -->
  <script src="/js/wordcloud2.js"></script>
  <!-- import d3 for display personality assessment -->
  <script src="https://d3js.org/d3.v3.min.js" type="text/javascript" charset="utf-8"></script>
  <!-- nav bar -->
  <script>
    const questionHistory = <% if(locals.assessment.question.length > 0) { %>
    <%- JSON.stringify(locals.assessment.question) %>
    <% }else{ %> []
    <% } %>;
    const personality_assessement = <% if(locals.assessment.personality_evaluation.length > 0) { %>
    <%- JSON.stringify(locals.assessment.personality_evaluation) %>
    <% }else{ %> []
    <% } %>;
    const introduction = <% if(locals.assessment.introduction) { %>
    <%- JSON.stringify(locals.assessment.introduction) %>
    <% }else{ %> ""
    <% } %>;
    const interest = <% if(locals.assessment.interest.length > 0) { %>
    <%- JSON.stringify(locals.assessment.interest) %>
    <% }else{ %> []
    <% } %>;
  </script>
  <div class="container-fluid">
    <div class="col-sm-9 mid-positive-fix">
      <!-- resumt -->
      <div class="panel panel-primary">
        <%# student info%>
        <div class="bs-callout bs-callout-primary text-left">
          <h4> Student Information </h4>
          	<div id="owner-display-name">Name: <%- locals.assessment.owner_display_name %></div>
          </br>
          	<div id="request-time">Request TIme: <%- locals.assessment.request_time %></div>
        </div>
        <%# interest%>
        <% if(locals.assessment.interest.length > 0) { %>
          <%# cloud%>
          <div class="bs-callout bs-callout-primary text-left">
            <h4>Interest Cloud</h4>
            <canvas id="interest-canvas" width="800" height="420"></canvas>

            <%# full list%>
            <div id="interest-full"></div>

            <%# comment%>
            <div id="interest-comment-section">
              <p id="interest-comment-p" class="editable" contenteditable="true"></p>
              <div class="edit-bar">
                <div id="introduction-cancel-btn"><i class="fa fa-times edit-btn" aria-hidden="true"><span> Cancel</span></i></div>
                <div id="introduction-redo-btn"><i class="fa fa-repeat edit-btn" aria-hidden="true"><span> Redo</span></i></div>
                <div id="introduction-undo-btn"><i class="fa fa-undo edit-btn" aria-hidden="true"><span> Undo</span></i></div>
                <div id="introduction-save-btn"><i class="fa fa-floppy-o edit-btn" aria-hidden="true"><span> Save</span></i></div>
              </div>
            </div>
          </div>
        <% } %>

        <%# introduction%>
        <% if(locals.assessment.introduction) { %>
          <div class="bs-callout bs-callout-primary text-left">
              <div id="introduction-edit-section">
                <h4>Introduction</h4>
                <p id="introduction-content-p" class="editable" contenteditable="true">
                  <%- locals.assessment.introduction %>
                </p>
              </div>
              <div id="introduction-comment-section">
                <p id="introduction-comment-p" class="editable" contenteditable="true"></p>
                <div class="edit-bar">
                  <div id="introduction-cancel-btn"><i class="fa fa-times edit-btn" aria-hidden="true"><span> Cancel</span></i></div>
                  <div id="introduction-redo-btn"><i class="fa fa-repeat edit-btn" aria-hidden="true"><span> Redo</span></i></div>
                  <div id="introduction-undo-btn"><i class="fa fa-undo edit-btn" aria-hidden="true"><span> Undo</span></i></div>
                  <div id="introduction-save-btn"><i class="fa fa-floppy-o edit-btn" aria-hidden="true"><span> Save</span></i></div>
                </div>
              </div>
          </div>
        <% } %>

        <%# personality%>
        <% if(locals.assessment.personality_evaluation.length>0) { %>
          <div class="bs-callout bs-callout-primary text-left">
            <h4>Personality</h4>
            <%# chart%>
            <div id="personality-assessement-chart"></div>

            <%# full list%>
            <div id="personality-assessement-full"></div>

            <%# comment%>
            <div id="personality-comment-section">
              <p id="personality-comment-p" class="editable" contenteditable="true"></p>
              <div class="edit-bar">
                <div id="introduction-cancel-btn"><i class="fa fa-times edit-btn" aria-hidden="true"><span> Cancel</span></i></div>
                <div id="introduction-redo-btn"><i class="fa fa-repeat edit-btn" aria-hidden="true"><span> Redo</span></i></div>
                <div id="introduction-undo-btn"><i class="fa fa-undo edit-btn" aria-hidden="true"><span> Undo</span></i></div>
                <div id="introduction-save-btn"><i class="fa fa-floppy-o edit-btn" aria-hidden="true"><span> Save</span></i></div>
              </div>
            </div>
          </div>
        <% } %>

        <%# question history%>
        <% if(locals.assessment.question.length > 0) { %>
          <div class="bs-callout bs-callout-info text-left">
            <h4>Favorite Question</h4>

            <h4>Other Question and History</h4>



            <p id="question-comment-p" class="editable" contenteditable="true"></p>
            <div class="edit-bar">
              <div id="introduction-cancel-btn"><i class="fa fa-times edit-btn" aria-hidden="true"><span> Cancel</span></i></div>
              <div id="introduction-redo-btn"><i class="fa fa-repeat edit-btn" aria-hidden="true"><span> Redo</span></i></div>
              <div id="introduction-undo-btn"><i class="fa fa-undo edit-btn" aria-hidden="true"><span> Undo</span></i></div>
              <div id="introduction-save-btn"><i class="fa fa-floppy-o edit-btn" aria-hidden="true"><span> Save</span></i></div>
            </div>
        <% } %>
      </div>
    </div>
  </div>
  <div class="assessment-report-btn-group">
    <button type="button" class="btn btn-primary">Print</button>
    <button type="button" class="btn btn-success">Save</button>
  </div>
  <%- include footer.ejs %>
</body>

</html>

<!-- <pre><%- JSON.stringify(locals.assessment, null, 4) %></pre> -->
